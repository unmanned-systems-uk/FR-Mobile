<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FR-Mobile: SDCardManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FR-Mobile
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_s_d_card_manager.html','','class_s_d_card_manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SDCardManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SD Card Manager implementing comprehensive file operations and data management.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SDCardManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_s_d_card_manager.png" usemap="#SDCardManager_map" alt=""/>
  <map id="SDCardManager_map" name="SDCardManager_map">
<area href="class_i_data_storage.html" alt="IDataStorage" shape="rect" coords="0,0,108,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aae6e52c99962cc46726da2ae1b8d6fff" id="r_aae6e52c99962cc46726da2ae1b8d6fff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae6e52c99962cc46726da2ae1b8d6fff">SDCardManager</a> (const std::string &amp;basePath=&quot;/sdcard&quot;)</td></tr>
<tr class="memdesc:aae6e52c99962cc46726da2ae1b8d6fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="memitem:ab57ea76fda6af453daffd968f1e2f023" id="r_ab57ea76fda6af453daffd968f1e2f023"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab57ea76fda6af453daffd968f1e2f023">~SDCardManager</a> () override</td></tr>
<tr class="memdesc:ab57ea76fda6af453daffd968f1e2f023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor - ensures proper cleanup and unmounting.  <br /></td></tr>
<tr class="memitem:a6ab77104e2009ea904cb1ca5e014a8dc" id="r_a6ab77104e2009ea904cb1ca5e014a8dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ab77104e2009ea904cb1ca5e014a8dc">writeData</a> (const <a class="el" href="struct_probe_request.html">ProbeRequest</a> &amp;data, const std::string &amp;filename) override</td></tr>
<tr class="memdesc:a6ab77104e2009ea904cb1ca5e014a8dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write probe request data to specified file.  <br /></td></tr>
<tr class="memitem:af4841369a577a377f6cd95022675b1c4" id="r_af4841369a577a377f6cd95022675b1c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4841369a577a377f6cd95022675b1c4">writeAssetData</a> (const <a class="el" href="struct_asset_info.html">AssetInfo</a> &amp;data) override</td></tr>
<tr class="memdesc:af4841369a577a377f6cd95022675b1c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write asset information to dedicated file.  <br /></td></tr>
<tr class="memitem:af43ef1a9bf7c1b018e4a5fb6749eb4bf" id="r_af43ef1a9bf7c1b018e4a5fb6749eb4bf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af43ef1a9bf7c1b018e4a5fb6749eb4bf">readFile</a> (const std::string &amp;filename) override</td></tr>
<tr class="memdesc:af43ef1a9bf7c1b018e4a5fb6749eb4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read all lines from specified file.  <br /></td></tr>
<tr class="memitem:a0904bd3d1f9f31b78491050569548b50" id="r_a0904bd3d1f9f31b78491050569548b50"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0904bd3d1f9f31b78491050569548b50">fileExists</a> (const std::string &amp;filename) override</td></tr>
<tr class="memdesc:a0904bd3d1f9f31b78491050569548b50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if specified file exists.  <br /></td></tr>
<tr class="memitem:a28d799290f6cc9da4fde5cbdc0e0c86b" id="r_a28d799290f6cc9da4fde5cbdc0e0c86b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28d799290f6cc9da4fde5cbdc0e0c86b">getFileSize</a> (const std::string &amp;filename) override</td></tr>
<tr class="memdesc:a28d799290f6cc9da4fde5cbdc0e0c86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of specified file.  <br /></td></tr>
<tr class="memitem:a01ebab598264e675f413c65c7d471d91" id="r_a01ebab598264e675f413c65c7d471d91"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01ebab598264e675f413c65c7d471d91">getRemainingCapacityPercent</a> () override</td></tr>
<tr class="memdesc:a01ebab598264e675f413c65c7d471d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get remaining storage capacity as percentage.  <br /></td></tr>
<tr class="memitem:acfe3494064c3f0949ee260dc80a72fb1" id="r_acfe3494064c3f0949ee260dc80a72fb1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfe3494064c3f0949ee260dc80a72fb1">initialize</a> (int maxRetries=20, int retryDelayMs=200)</td></tr>
<tr class="memdesc:acfe3494064c3f0949ee260dc80a72fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and mount the SD card.  <br /></td></tr>
<tr class="memitem:ada8d7a94bba99b1facc95542ccc2315d" id="r_ada8d7a94bba99b1facc95542ccc2315d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada8d7a94bba99b1facc95542ccc2315d">unmount</a> ()</td></tr>
<tr class="memdesc:ada8d7a94bba99b1facc95542ccc2315d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely unmount the SD card.  <br /></td></tr>
<tr class="memitem:acaf08bfc0e4fbfea2b88d0ac64c5948c" id="r_acaf08bfc0e4fbfea2b88d0ac64c5948c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_d_card_info.html">SDCardInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acaf08bfc0e4fbfea2b88d0ac64c5948c">getCardInfo</a> ()</td></tr>
<tr class="memdesc:acaf08bfc0e4fbfea2b88d0ac64c5948c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get comprehensive SD card information.  <br /></td></tr>
<tr class="memitem:a455c245b34d6f9610d427754f2594e00" id="r_a455c245b34d6f9610d427754f2594e00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_file_operation_stats.html">FileOperationStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a455c245b34d6f9610d427754f2594e00">getOperationStats</a> () const</td></tr>
<tr class="memdesc:a455c245b34d6f9610d427754f2594e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get file operation statistics for monitoring.  <br /></td></tr>
<tr class="memitem:a067e9c89a397dcb7bae167742a366e22" id="r_a067e9c89a397dcb7bae167742a366e22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a067e9c89a397dcb7bae167742a366e22">createDirectory</a> (const std::string &amp;path)</td></tr>
<tr class="memdesc:a067e9c89a397dcb7bae167742a366e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create directory structure if it doesn't exist.  <br /></td></tr>
<tr class="memitem:a951f283ae6e1a2379aa381b18b9cba4c" id="r_a951f283ae6e1a2379aa381b18b9cba4c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a951f283ae6e1a2379aa381b18b9cba4c">listFiles</a> (const std::string &amp;directory=&quot;&quot;, bool recursive=<a class="el" href="main_8cpp.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a>)</td></tr>
<tr class="memdesc:a951f283ae6e1a2379aa381b18b9cba4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all files in specified directory.  <br /></td></tr>
<tr class="memitem:a6d4e47b49080df9056805e0b97025e86" id="r_a6d4e47b49080df9056805e0b97025e86"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d4e47b49080df9056805e0b97025e86">deleteFile</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a6d4e47b49080df9056805e0b97025e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete specified file.  <br /></td></tr>
<tr class="memitem:a9c4b65c985474919799b0bdc17802b17" id="r_a9c4b65c985474919799b0bdc17802b17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c4b65c985474919799b0bdc17802b17">createDataFile</a> (const std::string &amp;filename, const std::string &amp;customHeader=&quot;&quot;)</td></tr>
<tr class="memdesc:a9c4b65c985474919799b0bdc17802b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new data file with CSV header.  <br /></td></tr>
<tr class="memitem:a3b3db9db283459c3fb145ae6a40bfffc" id="r_a3b3db9db283459c3fb145ae6a40bfffc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b3db9db283459c3fb145ae6a40bfffc">writeFileAtomic</a> (const std::string &amp;filename, const std::string &amp;data)</td></tr>
<tr class="memdesc:a3b3db9db283459c3fb145ae6a40bfffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data with atomic operation (temporary file + rename)  <br /></td></tr>
<tr class="memitem:a44b83db07769e3182a038f963dc0a17b" id="r_a44b83db07769e3182a038f963dc0a17b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44b83db07769e3182a038f963dc0a17b">createBackup</a> (const std::string &amp;filename, const std::string &amp;backupSuffix=&quot;.bak&quot;)</td></tr>
<tr class="memdesc:a44b83db07769e3182a038f963dc0a17b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create backup copy of specified file.  <br /></td></tr>
<tr class="memitem:aaa4ba40c5161a42b75d95d0ddc9b1d79" id="r_aaa4ba40c5161a42b75d95d0ddc9b1d79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa4ba40c5161a42b75d95d0ddc9b1d79">verifyFileIntegrity</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:aaa4ba40c5161a42b75d95d0ddc9b1d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify file integrity using checksum.  <br /></td></tr>
<tr class="memitem:a2874b91794672cb2d2e95c87e9ce0cc4" id="r_a2874b91794672cb2d2e95c87e9ce0cc4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2874b91794672cb2d2e95c87e9ce0cc4">hasSufficientSpace</a> (size_t requiredBytes)</td></tr>
<tr class="memdesc:a2874b91794672cb2d2e95c87e9ce0cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if SD card has sufficient free space.  <br /></td></tr>
<tr class="memitem:a0a8764d2ab20346b3d7bc5a0696e76a8" id="r_a0a8764d2ab20346b3d7bc5a0696e76a8"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a8764d2ab20346b3d7bc5a0696e76a8">getFreeSpace</a> ()</td></tr>
<tr class="memdesc:a0a8764d2ab20346b3d7bc5a0696e76a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get free space in bytes.  <br /></td></tr>
<tr class="memitem:a09f4906345b56a4d4cccbc060fc830f0" id="r_a09f4906345b56a4d4cccbc060fc830f0"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09f4906345b56a4d4cccbc060fc830f0">getUsedSpace</a> ()</td></tr>
<tr class="memdesc:a09f4906345b56a4d4cccbc060fc830f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get used space in bytes.  <br /></td></tr>
<tr class="memitem:a3e9b3537c9e69c665c27bf34c4258dc7" id="r_a3e9b3537c9e69c665c27bf34c4258dc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e9b3537c9e69c665c27bf34c4258dc7">cleanupOldFiles</a> (float targetFreePercent=20.0f, const std::string &amp;deletePattern=&quot;data_*.csv&quot;)</td></tr>
<tr class="memdesc:a3e9b3537c9e69c665c27bf34c4258dc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up old files to free space.  <br /></td></tr>
<tr class="memitem:ab6fa0cd2bb5153ec18710f3ea8c33d99" id="r_ab6fa0cd2bb5153ec18710f3ea8c33d99"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6fa0cd2bb5153ec18710f3ea8c33d99">performHealthCheck</a> ()</td></tr>
<tr class="memdesc:ab6fa0cd2bb5153ec18710f3ea8c33d99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check SD card health and perform basic diagnostics.  <br /></td></tr>
<tr class="memitem:a017d00a88df0ed0b672c82c8cc6ce0af" id="r_a017d00a88df0ed0b672c82c8cc6ce0af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a017d00a88df0ed0b672c82c8cc6ce0af">attemptErrorRecovery</a> ()</td></tr>
<tr class="memdesc:a017d00a88df0ed0b672c82c8cc6ce0af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to recover from SD card errors.  <br /></td></tr>
<tr class="memitem:abd44cb7d3decbe9d00bf03fe8f31915f" id="r_abd44cb7d3decbe9d00bf03fe8f31915f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd44cb7d3decbe9d00bf03fe8f31915f">getLastError</a> () const</td></tr>
<tr class="memdesc:abd44cb7d3decbe9d00bf03fe8f31915f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last error message for diagnostics.  <br /></td></tr>
<tr class="memitem:aa62e4c89430c45debb8b9313111d2501" id="r_aa62e4c89430c45debb8b9313111d2501"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa62e4c89430c45debb8b9313111d2501">setLowSpaceThreshold</a> (float thresholdPercent)</td></tr>
<tr class="memdesc:aa62e4c89430c45debb8b9313111d2501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set low space warning threshold.  <br /></td></tr>
<tr class="memitem:a0bc87029719dfe1bafcddb17c12dd494" id="r_a0bc87029719dfe1bafcddb17c12dd494"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bc87029719dfe1bafcddb17c12dd494">setAutoCleanup</a> (bool enabled)</td></tr>
<tr class="memdesc:a0bc87029719dfe1bafcddb17c12dd494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable automatic cleanup when space is low.  <br /></td></tr>
<tr class="memitem:a582d0e103802122d67675655169e9402" id="r_a582d0e103802122d67675655169e9402"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a582d0e103802122d67675655169e9402">setMaxFileSize</a> (size_t maxSizeBytes)</td></tr>
<tr class="memdesc:a582d0e103802122d67675655169e9402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum file size before rotation/splitting.  <br /></td></tr>
<tr class="inherit_header pub_methods_class_i_data_storage"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_i_data_storage')"><span class="dynarrow"><span class="arrowhead closed"></span></span>Public Member Functions inherited from <a class="el" href="class_i_data_storage.html">IDataStorage</a></td></tr>
<tr class="memitem:aa5c10f594fa2de589a0f0882632835ae inherit pub_methods_class_i_data_storage" id="r_aa5c10f594fa2de589a0f0882632835ae"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_data_storage.html#aa5c10f594fa2de589a0f0882632835ae">~IDataStorage</a> ()=default</td></tr>
<tr class="memitem:aa5c10f594fa2de589a0f0882632835ae inherit pub_methods_class_i_data_storage" id="r_aa5c10f594fa2de589a0f0882632835ae"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_data_storage.html#aa5c10f594fa2de589a0f0882632835ae">~IDataStorage</a> ()=default</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SD Card Manager implementing comprehensive file operations and data management. </p>
<p>This class provides a complete interface for SD card operations optimized for the forestry research device. Features include:</p>
<ul>
<li>Reliable file operations with error recovery</li>
<li>CSV data logging with proper formatting</li>
<li>Capacity monitoring and low-space warnings</li>
<li>Directory management and file organization</li>
<li>Atomic write operations for data integrity</li>
<li>Performance monitoring and statistics</li>
<li>Thread-safe operations with proper locking</li>
<li>Automatic mount/unmount handling </li>
</ul>

<p class="definition">Definition at line <a class="el" href="sdcard__manager_8h_source.html#l00068">68</a> of file <a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aae6e52c99962cc46726da2ae1b8d6fff" name="aae6e52c99962cc46726da2ae1b8d6fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae6e52c99962cc46726da2ae1b8d6fff">&#9670;&#160;</a></span>SDCardManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SDCardManager::SDCardManager </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>basePath</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;/sdcard&quot;</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">basePath</td><td>Base path for file operations (default: "/sdcard") </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab57ea76fda6af453daffd968f1e2f023" name="ab57ea76fda6af453daffd968f1e2f023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab57ea76fda6af453daffd968f1e2f023">&#9670;&#160;</a></span>~SDCardManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SDCardManager::~SDCardManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor - ensures proper cleanup and unmounting. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a017d00a88df0ed0b672c82c8cc6ce0af" name="a017d00a88df0ed0b672c82c8cc6ce0af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017d00a88df0ed0b672c82c8cc6ce0af">&#9670;&#160;</a></span>attemptErrorRecovery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::attemptErrorRecovery </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to recover from SD card errors. </p>
<dl class="section return"><dt>Returns</dt><dd>true if recovery successful, false otherwise </dd></dl>

</div>
</div>
<a id="a3e9b3537c9e69c665c27bf34c4258dc7" name="a3e9b3537c9e69c665c27bf34c4258dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9b3537c9e69c665c27bf34c4258dc7">&#9670;&#160;</a></span>cleanupOldFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SDCardManager::cleanupOldFiles </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>targetFreePercent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">20.0f</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>deletePattern</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;data_*.csv&quot;</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up old files to free space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetFreePercent</td><td>Target free space percentage (default: 20%) </td></tr>
    <tr><td class="paramname">deletePattern</td><td>File pattern to delete (default: oldest data files) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of files deleted </dd></dl>

</div>
</div>
<a id="a44b83db07769e3182a038f963dc0a17b" name="a44b83db07769e3182a038f963dc0a17b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b83db07769e3182a038f963dc0a17b">&#9670;&#160;</a></span>createBackup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::createBackup </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>backupSuffix</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;.bak&quot;</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create backup copy of specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Original file to backup </td></tr>
    <tr><td class="paramname">backupSuffix</td><td>Suffix for backup file (default: ".bak") </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if backup created successfully, false otherwise </dd></dl>

</div>
</div>
<a id="a9c4b65c985474919799b0bdc17802b17" name="a9c4b65c985474919799b0bdc17802b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c4b65c985474919799b0bdc17802b17">&#9670;&#160;</a></span>createDataFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::createDataFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>customHeader</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create new data file with CSV header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to create </td></tr>
    <tr><td class="paramname">customHeader</td><td>Optional custom header (uses default if empty) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if file created successfully, false otherwise </dd></dl>

</div>
</div>
<a id="a067e9c89a397dcb7bae167742a366e22" name="a067e9c89a397dcb7bae167742a366e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067e9c89a397dcb7bae167742a366e22">&#9670;&#160;</a></span>createDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::createDirectory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create directory structure if it doesn't exist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Directory path to create </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if directory exists or was created successfully </dd></dl>

</div>
</div>
<a id="a6d4e47b49080df9056805e0b97025e86" name="a6d4e47b49080df9056805e0b97025e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4e47b49080df9056805e0b97025e86">&#9670;&#160;</a></span>deleteFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::deleteFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if file was deleted or didn't exist, false on error </dd></dl>

</div>
</div>
<a id="a0904bd3d1f9f31b78491050569548b50" name="a0904bd3d1f9f31b78491050569548b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0904bd3d1f9f31b78491050569548b50">&#9670;&#160;</a></span>fileExists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::fileExists </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if specified file exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if file exists, false otherwise </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#a79c9c9119e8a3cc2901917fd3ccb70f7">IDataStorage</a>.</p>

</div>
</div>
<a id="acaf08bfc0e4fbfea2b88d0ac64c5948c" name="acaf08bfc0e4fbfea2b88d0ac64c5948c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf08bfc0e4fbfea2b88d0ac64c5948c">&#9670;&#160;</a></span>getCardInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_d_card_info.html">SDCardInfo</a> SDCardManager::getCardInfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get comprehensive SD card information. </p>
<dl class="section return"><dt>Returns</dt><dd>SD card info structure with capacity, type, and status </dd></dl>

</div>
</div>
<a id="a28d799290f6cc9da4fde5cbdc0e0c86b" name="a28d799290f6cc9da4fde5cbdc0e0c86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d799290f6cc9da4fde5cbdc0e0c86b">&#9670;&#160;</a></span>getFileSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t SDCardManager::getFileSize </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get size of specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File size in bytes, 0 if file doesn't exist </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#a78938c1e990c910e98f7642897d1489d">IDataStorage</a>.</p>

</div>
</div>
<a id="a0a8764d2ab20346b3d7bc5a0696e76a8" name="a0a8764d2ab20346b3d7bc5a0696e76a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8764d2ab20346b3d7bc5a0696e76a8">&#9670;&#160;</a></span>getFreeSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t SDCardManager::getFreeSpace </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get free space in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>Available free space in bytes </dd></dl>

</div>
</div>
<a id="abd44cb7d3decbe9d00bf03fe8f31915f" name="abd44cb7d3decbe9d00bf03fe8f31915f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd44cb7d3decbe9d00bf03fe8f31915f">&#9670;&#160;</a></span>getLastError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SDCardManager::getLastError </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get last error message for diagnostics. </p>
<dl class="section return"><dt>Returns</dt><dd>String describing the last error that occurred </dd></dl>

<p class="definition">Definition at line <a class="el" href="sdcard__manager_8h_source.html#l00252">252</a> of file <a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>.</p>

</div>
</div>
<a id="a455c245b34d6f9610d427754f2594e00" name="a455c245b34d6f9610d427754f2594e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455c245b34d6f9610d427754f2594e00">&#9670;&#160;</a></span>getOperationStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_file_operation_stats.html">FileOperationStats</a> SDCardManager::getOperationStats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get file operation statistics for monitoring. </p>
<dl class="section return"><dt>Returns</dt><dd>Statistics structure with operation counts and performance data </dd></dl>

</div>
</div>
<a id="a01ebab598264e675f413c65c7d471d91" name="a01ebab598264e675f413c65c7d471d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ebab598264e675f413c65c7d471d91">&#9670;&#160;</a></span>getRemainingCapacityPercent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float SDCardManager::getRemainingCapacityPercent </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get remaining storage capacity as percentage. </p>
<dl class="section return"><dt>Returns</dt><dd>Remaining capacity percentage (0.0 - 100.0) </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#a8e820a62559b7bed4c149b335f49af17">IDataStorage</a>.</p>

</div>
</div>
<a id="a09f4906345b56a4d4cccbc060fc830f0" name="a09f4906345b56a4d4cccbc060fc830f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f4906345b56a4d4cccbc060fc830f0">&#9670;&#160;</a></span>getUsedSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t SDCardManager::getUsedSpace </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get used space in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>Used space in bytes </dd></dl>

</div>
</div>
<a id="a2874b91794672cb2d2e95c87e9ce0cc4" name="a2874b91794672cb2d2e95c87e9ce0cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2874b91794672cb2d2e95c87e9ce0cc4">&#9670;&#160;</a></span>hasSufficientSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::hasSufficientSpace </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>requiredBytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if SD card has sufficient free space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requiredBytes</td><td>Minimum required free space in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if sufficient space available, false otherwise </dd></dl>

</div>
</div>
<a id="acfe3494064c3f0949ee260dc80a72fb1" name="acfe3494064c3f0949ee260dc80a72fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfe3494064c3f0949ee260dc80a72fb1">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::initialize </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>maxRetries</em></span><span class="paramdefsep"> = </span><span class="paramdefval">20</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>retryDelayMs</em></span><span class="paramdefsep"> = </span><span class="paramdefval">200</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and mount the SD card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxRetries</td><td>Maximum number of mount attempts (default: 20) </td></tr>
    <tr><td class="paramname">retryDelayMs</td><td>Delay between retry attempts in ms (default: 200) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if initialization successful, false otherwise </dd></dl>

</div>
</div>
<a id="a951f283ae6e1a2379aa381b18b9cba4c" name="a951f283ae6e1a2379aa381b18b9cba4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951f283ae6e1a2379aa381b18b9cba4c">&#9670;&#160;</a></span>listFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; SDCardManager::listFiles </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>directory</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>recursive</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="main_8cpp.html#a5df37b7f02e5cdc7d9412b7f872b8e01">false</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List all files in specified directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>Directory to list (default: root) </td></tr>
    <tr><td class="paramname">recursive</td><td>Include subdirectories (default: false) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of filenames found </dd></dl>

</div>
</div>
<a id="ab6fa0cd2bb5153ec18710f3ea8c33d99" name="ab6fa0cd2bb5153ec18710f3ea8c33d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6fa0cd2bb5153ec18710f3ea8c33d99">&#9670;&#160;</a></span>performHealthCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::performHealthCheck </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check SD card health and perform basic diagnostics. </p>
<dl class="section return"><dt>Returns</dt><dd>true if card appears healthy, false if issues detected </dd></dl>

</div>
</div>
<a id="af43ef1a9bf7c1b018e4a5fb6749eb4bf" name="af43ef1a9bf7c1b018e4a5fb6749eb4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43ef1a9bf7c1b018e4a5fb6749eb4bf">&#9670;&#160;</a></span>readFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; SDCardManager::readFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read all lines from specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of strings containing file lines </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#a657c8289f7fc02bdecf6a9fd7ce90834">IDataStorage</a>.</p>

</div>
</div>
<a id="a0bc87029719dfe1bafcddb17c12dd494" name="a0bc87029719dfe1bafcddb17c12dd494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc87029719dfe1bafcddb17c12dd494">&#9670;&#160;</a></span>setAutoCleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SDCardManager::setAutoCleanup </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable/disable automatic cleanup when space is low. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>Whether to automatically clean up old files </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sdcard__manager_8h_source.html#l00265">265</a> of file <a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>.</p>

</div>
</div>
<a id="aa62e4c89430c45debb8b9313111d2501" name="aa62e4c89430c45debb8b9313111d2501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa62e4c89430c45debb8b9313111d2501">&#9670;&#160;</a></span>setLowSpaceThreshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SDCardManager::setLowSpaceThreshold </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>thresholdPercent</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set low space warning threshold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thresholdPercent</td><td>Percentage below which to trigger warnings (default: 10%) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sdcard__manager_8h_source.html#l00259">259</a> of file <a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>.</p>

</div>
</div>
<a id="a582d0e103802122d67675655169e9402" name="a582d0e103802122d67675655169e9402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582d0e103802122d67675655169e9402">&#9670;&#160;</a></span>setMaxFileSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SDCardManager::setMaxFileSize </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>maxSizeBytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set maximum file size before rotation/splitting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxSizeBytes</td><td>Maximum file size in bytes (0 = no limit) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sdcard__manager_8h_source.html#l00271">271</a> of file <a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a>.</p>

</div>
</div>
<a id="ada8d7a94bba99b1facc95542ccc2315d" name="ada8d7a94bba99b1facc95542ccc2315d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8d7a94bba99b1facc95542ccc2315d">&#9670;&#160;</a></span>unmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::unmount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safely unmount the SD card. </p>
<dl class="section return"><dt>Returns</dt><dd>true if unmount successful, false otherwise </dd></dl>

</div>
</div>
<a id="aaa4ba40c5161a42b75d95d0ddc9b1d79" name="aaa4ba40c5161a42b75d95d0ddc9b1d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4ba40c5161a42b75d95d0ddc9b1d79">&#9670;&#160;</a></span>verifyFileIntegrity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::verifyFileIntegrity </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify file integrity using checksum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to verify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if file is valid, false if corrupted or missing </dd></dl>

</div>
</div>
<a id="af4841369a577a377f6cd95022675b1c4" name="af4841369a577a377f6cd95022675b1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4841369a577a377f6cd95022675b1c4">&#9670;&#160;</a></span>writeAssetData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::writeAssetData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_asset_info.html">AssetInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write asset information to dedicated file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Asset information to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if write successful, false otherwise </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#a54933ab8f274fe1f11d95acd26d27a22">IDataStorage</a>.</p>

</div>
</div>
<a id="a6ab77104e2009ea904cb1ca5e014a8dc" name="a6ab77104e2009ea904cb1ca5e014a8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab77104e2009ea904cb1ca5e014a8dc">&#9670;&#160;</a></span>writeData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::writeData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_probe_request.html">ProbeRequest</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write probe request data to specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Probe request data to write </td></tr>
    <tr><td class="paramname">filename</td><td>Target filename for the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if write successful, false otherwise </dd></dl>

<p>Implements <a class="el" href="class_i_data_storage.html#ac15800723ef8f2d5264101d22fe92474">IDataStorage</a>.</p>

</div>
</div>
<a id="a3b3db9db283459c3fb145ae6a40bfffc" name="a3b3db9db283459c3fb145ae6a40bfffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3db9db283459c3fb145ae6a40bfffc">&#9670;&#160;</a></span>writeFileAtomic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SDCardManager::writeFileAtomic </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data with atomic operation (temporary file + rename) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Target filename </td></tr>
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if atomic write successful, false otherwise </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Mobile/SB_forest_Research_Firmware_v4/FR-Mobile-V4-VC/RF-Mobile-V4/include/data/<a class="el" href="sdcard__manager_8h_source.html">sdcard_manager.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_s_d_card_manager.html">SDCardManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
