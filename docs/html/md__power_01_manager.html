<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FR-Mobile: Power Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FR-Mobile
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__power_01_manager.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Power Manager </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Key Features of the <a class="el" href="class_power_manager.html" title="Power Manager implementing comprehensive power control and optimization.">PowerManager</a> Implementation:</p><ol type="1">
<li>5V Power Control</li>
</ol>
<p>Proper GPIO15 control with LOW = enabled, HIGH = disabled GPIO hold functionality to maintain state during deep sleep Safe initialization starting with 5V disabled Proper sequencing with 1-second delay for power stabilization</p>
<ol type="1">
<li>Sleep Mode Management</li>
</ol>
<p>Deep sleep with configurable wakeup sources Light sleep for lower latency wakeup Sleep duration validation and limits Proper statistics tracking for duty cycle monitoring</p>
<ol type="1">
<li>Peripheral Power Management</li>
</ol>
<p>Individual control for WiFi, Bluetooth, cellular, SD card, and sensors Proper shutdown sequencing (peripherals first, then 5V) Power-up sequencing (5V first, then peripherals)</p>
<ol type="1">
<li>Battery-Aware Power Management</li>
</ol>
<p>Low battery threshold triggers power saving Critical battery threshold triggers emergency mode Emergency shutdown procedures with logging</p>
<ol type="1">
<li>Watchdog Timer Support</li>
</ol>
<p>Configurable timeout with automatic reset Integration with sleep modes Proper cleanup on shutdown</p>
<ol type="1">
<li>Comprehensive Logging</li>
</ol>
<p>Follows your established logging patterns Critical events are logged immediately Detailed diagnostic information</p>
<ol type="1">
<li>Platform Abstraction</li>
</ol>
<p>Full ESP32 implementation with proper ESP-IDF calls Development platform simulation for testing Clean separation of platform-specific code</p>
<ol type="1">
<li>Safety Features</li>
</ol>
<p>Health check functionality Emergency mode for critical situations Proper GPIO hold configuration for deep sleep Memory monitoring</p>
<p>Integration Points: The <a class="el" href="class_power_manager.html" title="Power Manager implementing comprehensive power control and optimization.">PowerManager</a> is now ready to be used by other components:</p>
<p>RTC Time Manager can call enablePeripherals() or set5VSupply(true) to power up the RTC Cellular Manager can use the same methods to control modem power Main Application can use sleep modes for power optimization Battery Monitor can call checkBatteryLevel() to trigger power policies</p>
<p>Usage Example: cpp// Initialize power manager <a class="el" href="class_power_manager.html" title="Power Manager implementing comprehensive power control and optimization.">PowerManager</a> powerManager(15); // GPIO 15 for 5V control powerManager.initialize();</p>
<p>// Enable 5V for RTC and cellular powerManager.set5VSupply(true);</p>
<p>// Or enable all configured peripherals powerManager.enablePeripherals();</p>
<p>// Enter deep sleep for 10 minutes powerManager.enterDeepSleep(600000000ULL); // 600 seconds in microseconds</p>
<p>// Check battery and apply policies powerManager.checkBatteryLevel(batteryPercent); </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
